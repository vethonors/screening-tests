# 구현 과제 : 진료 진행 단계 변경

## 과제 안내

진료 진행 단계를 변경하고, 각 단계에서 수행하는 처리 사항을 구현합니다.

환자가 병원에 방문하여 의료 서비스를 받고 퇴원하는 과정은 다음과 같은 진료 진행 단계로 구분합니다.

- 접수
  - 접수 → 진료, 퇴원 단계로 변경 가능.
  - 결과 설명/상담 → 접수 단계로 변경 가능.
  - 담당 수의사에게 알림 발송(Push Notification).
  - 고객 명부에 없을 경우 이름과 연락처 등록.
- 진료
  - 진료 → 진료, 진단, 처치, 결과 설명/상담 단계로 변경 가능.
  - 접수, 진단, 처치 → 진료 단계로 변경 가능.
  - 담당자 변경이 있는 경우, 대상 담당자에게 알림 발송.
- 진단
  - 진단 → 진료, 처치, 결과 설명/상담 단계로 변경 가능.
  - 진료, 처치 → 진단 단계로 변경 가능.
  - 담당자 변경이 있는 경우, 대상 담당자에게 알림 발송.
- 처치
  - 처치 → 진료, 진단, 결과 설명/상담 단계로 변경 가능.
  - 진료, 진단 → 처치 단계, 수납으로 변경 가능.
  - 환자 보호자에게 알림 발송.
  - 담당자 변경이 있는 경우, 대상 담당자에게 알림 발송.
- 결과 설명/상담
  - 결과 설명/상담 → 접수, 수납, 퇴원 단계로 변경 가능.
  - 진료, 진단, 처치 → 결과 설명/상담 단계로 변경 가능.
  - 데스크 직원, 담당 수의사에게 알림 발송.
  - 결과 보고서 생성.
  - 담당자 변경이 있는 경우, 대상 담당자에게 알림 발송.
- 수납
  - 수납 → 퇴원으로 단계 변경 가능.
  - 처치, 결과 설명/상담 → 수납 단계로 변경 가능.
  - 의약 처방전이 있는 경우
    - 처방전 인쇄.
    - 약품 재고에서 처방된 약품 개수 조절.
  - 수납처에 알림 발송.
- 퇴원
  - 다음 단계로 이동 가능한 단계 없음.
  - 환자 보호자에게 진료 내역과 결과 발송.

위 요구사항을 충족하는 진료 단계 변경 API를 구현합니다.

- 각 단계에는 병원 내 스태프(의사, 간호사 등)는 1명 이상 지정됩니다.
- 알림 발송을 발송할 매체는 모바일 메신저, SMS, 병원에서 사용하는 소프트웨어, 프린터 등 다양합니다.
  - 실제로 SMS 등에 발송하는 것을 구현하지 않고, 인터페이스(빈 함수나 메서드 등)를 구현하거나 Mock 동작을 하면 됩니다.
- 알림 발송을 받는 대상이 병원 내 스태프인 경우 Role에 따라 발송 내용이 다릅니다.
- 인쇄 등 별도 하드웨어나 외부 시스템과 별도 API로 통신합니다.
  - 마찬가지로 실제 구현을 하지 않고, 인터페이스(빈 함수나 메서드 등)를 구현하거나 Mock 동작을 하면 됩니다.
- 이외 구현에 필요한 정보(요구사항이나 제한, 제약 등)가 필요하거나 궁금한 점은 출제자에게 문의 바랍니다.

## 과제 요건

- 언어 : Python, Java/TypeScript, Go 중 선택
- 라이브러리
  - 사용에 제한 없으며, 사용 시 해당 라이브러리를 사용/도입한 이유와 배경을 문서에 기술해주세요.
  - 사용하는 라이브러리가 의존하는 라이브러리에 대해서는 설명을 기술하지 않아도 됩니다.
  - 테스팅(단위 테스트 등) 라이브러리 설명도 기술하지 않아도 됩니다.
- 테스트 코드 : 필수.

## 평가

- 기본/필수 평가 요소.
  - 코드 일관성, 가독성, 코드 결합도/응집도, 관심사 분리 등.
  - 과제에 대한 문제 정의와 정의한 문제에 대한 해결 방법(접근법).
- 필수는 아니나 평가에 반영하는 요소.
  - 문서화 : OpenAPI Specification 등.
  - Git 사용/활용.
  - 인증(Authentication)/인가(Authorization).
  - 테스트 코드/시나리오에 과제에 대한 문제 정의와 해결 과정, 의도가 담긴 수준이나 정도.
- 평가 대상이 아닌 요소.
  - 과제 구현 요구사항과 관련하여 모든 상황을 구현
    - 특정 진료 단계만 구현하고 해당 구현이 나머지 구현 단계의 요구사항을 충족할 수 있는 재사용성이나 확장성이 제시되면 충분합니다.
    - 위 사항을 충족하면 모든 것을 구현하더라도 가점이나 감점이 없이 동일하게 간주합니다.
  - 영속 데이터 디자인, 데이터베이스 사용(SQL 등), 저장 계층(Repository 등).
    - 데이터 디자인이나 데이터베이스 사용(SQL 등)은 평가에 반영하지 않으므로 Mocking 처리하거나 생략 가능합니다.
  - 사용 언어와 라이브러리.
  - 제출 기한 연장 요청하기.
  - 과제에 대해 문의하기.

## 제출

- 제출 사항
  - 과제 구현한 소스 코드.
  - `README.md` 파일 : 다음 내용을 포함해주세요.
    - (필수) 과제를 실행하는 방법 : 애플리케이션 서버, 테스트 수행, 문서화 확인 방법 등.
    - (권장) 과제에 대한 문제 정의, 해결 계획과 방법에 대한 설명.
- 제출 방법 : Git 저장소. 다음은 제출 예시입니다.
  - GitHub 등에 저장소가 있는 경우, 출제자가 접근 가능한 저장소에 초대하거나 URL을 출제자에게 전달.
  - Local repository(`.git` 디렉터리가 있는 작업 디렉터리)를 압축하여 제출.
- 제출 기간
  - 출제일로부터 7일.
  - 기간이 더 필요한 경우 출제자에게 부담 갖지 말고 요청하시길 바랍니다.
